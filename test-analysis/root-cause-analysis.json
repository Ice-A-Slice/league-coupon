{
  "metadata": {
    "analysis_timestamp": "2025-07-16T12:27:15.229Z",
    "total_failing_tests": 25,
    "total_skipped_tests": 33,
    "analyzer_version": "1.0.0"
  },
  "root_cause_summary": {
    "Database_Seeding_Issues": {
      "count": 20,
      "confidence_distribution": {
        "high": 20,
        "medium": 0,
        "low": 0,
        "very_low": 0
      },
      "affected_components": [
        "api-routes",
        "db",
        "services"
      ]
    },
    "Unknown": {
      "count": 4,
      "confidence_distribution": {
        "high": 0,
        "medium": 0,
        "low": 0,
        "very_low": 4
      },
      "affected_components": [
        "api-routes",
        "db",
        "services"
      ]
    },
    "Mock_Configuration_Issues": {
      "count": 1,
      "confidence_distribution": {
        "high": 1,
        "medium": 0,
        "low": 0,
        "very_low": 0
      },
      "affected_components": [
        "services"
      ]
    }
  },
  "detailed_analysis": [
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "api_route_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "api-routes",
        "type": "integration",
        "file": "/src/app/api/hall-of-fame/stats/route.test.ts",
        "test_name": "should return aggregated stats with default parameters"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "api_route_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "api-routes",
        "type": "integration",
        "file": "/src/app/api/hall-of-fame/route.test.ts",
        "test_name": "should return Hall of Fame data with default parameters"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "api_route_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "api-routes",
        "type": "integration",
        "file": "/src/app/api/bets/route.test.ts",
        "test_name": "should return 200 OK on successful bet submission for an open round"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "api_route_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "api-routes",
        "type": "integration",
        "file": "/src/app/api/bets/route.test.ts",
        "test_name": "should return 401 Unauthorized if user is not authenticated"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "api_route_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "api-routes",
        "type": "integration",
        "file": "/src/app/api/bets/route.test.ts",
        "test_name": "should return 400 Bad Request if request body is not a valid array"
      }
    },
    {
      "primary_root_cause": null,
      "confidence": 0,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "api_route_test"
        ],
        "recommendations": [],
        "confidence_level": "very_low"
      },
      "subcategory": null,
      "test_info": {
        "component": "api-routes",
        "type": "integration",
        "file": "/src/app/api/bets/route.test.ts",
        "test_name": "should return 403 Forbidden if kickoff time is in the past"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "api_route_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "api-routes",
        "type": "integration",
        "file": "/src/app/api/bets/route.test.ts",
        "test_name": "should return 400 Bad Request if any submitted fixture is not in a betting round"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "db",
        "type": "unit",
        "file": "/tests/utils/db.test.ts",
        "test_name": "should result in empty tables after truncation"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [
        {
          "root_cause": "Async_Timing_Issues",
          "subcategory": null,
          "confidence": 0.6,
          "patterns_matched": [
            "Promise.*rejected"
          ],
          "description": "Race conditions, timing, or async operation handling problems"
        }
      ],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "db",
        "type": "unit",
        "file": "/tests/utils/db.test.ts",
        "test_name": "should seed test data successfully"
      }
    },
    {
      "primary_root_cause": null,
      "confidence": 0,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [],
        "recommendations": [],
        "confidence_level": "very_low"
      },
      "subcategory": null,
      "test_info": {
        "component": "db",
        "type": "unit",
        "file": "/tests/utils/db.test.ts",
        "test_name": "should create expected test data"
      }
    },
    {
      "primary_root_cause": null,
      "confidence": 0,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [],
        "recommendations": [],
        "confidence_level": "very_low"
      },
      "subcategory": null,
      "test_info": {
        "component": "db",
        "type": "unit",
        "file": "/tests/utils/db.test.ts",
        "test_name": "should reset database without seeding when seed=false"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "winner_determination_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Verify season winner data setup and cleanup"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/winnerDeterminationService.test.ts",
        "test_name": "should return existing winners if already determined integration"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "winner_determination_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Verify season winner data setup and cleanup"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/winnerDeterminationService.test.ts",
        "test_name": "should determine single winner successfully integration"
      }
    },
    {
      "primary_root_cause": "Mock_Configuration_Issues",
      "confidence": 1,
      "contributing_factors": [
        {
          "root_cause": "Type_System_Issues",
          "subcategory": "Undefined_Values",
          "confidence": 0.8,
          "patterns_matched": [
            "TypeError"
          ],
          "description": "TypeScript type errors or unexpected data types"
        }
      ],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "winner_determination_service_test"
        ],
        "recommendations": [
          "Verify season winner data setup and cleanup"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Incomplete_Mocks",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/winnerDeterminationService.test.ts",
        "test_name": "should handle tied winners correctly integration"
      }
    },
    {
      "primary_root_cause": null,
      "confidence": 0,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "winner_determination_service_test"
        ],
        "recommendations": [
          "Verify season winner data setup and cleanup"
        ],
        "confidence_level": "very_low"
      },
      "subcategory": null,
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/winnerDeterminationService.test.ts",
        "test_name": "should process multiple completed seasons successfully integration"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "winner_determination_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Verify season winner data setup and cleanup"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/winnerDeterminationService.test.ts",
        "test_name": "should handle individual season processing errors and continue with others integration"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "cup_winner_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Check cup-specific test data setup in setupCupStandingsTestData"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/cup/__tests__/cupWinnerDeterminationService.test.ts",
        "test_name": "should calculate standings with proper ranking and tie handling"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "cup_winner_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Check cup-specific test data setup in setupCupStandingsTestData"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/cup/__tests__/cupWinnerDeterminationService.test.ts",
        "test_name": "should handle invalid season ID gracefully"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "cup_winner_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Check cup-specific test data setup in setupCupStandingsTestData"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/cup/__tests__/cupWinnerDeterminationService.test.ts",
        "test_name": "should handle null points values"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "cup_winner_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Check cup-specific test data setup in setupCupStandingsTestData"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/cup/__tests__/cupWinnerDeterminationService.test.ts",
        "test_name": "should handle missing profile information"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "cup_winner_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Check cup-specific test data setup in setupCupStandingsTestData"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/cup/__tests__/cupWinnerDeterminationService.test.ts",
        "test_name": "should sort users with same points consistently by username"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "cup_winner_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Check cup-specific test data setup in setupCupStandingsTestData"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/cup/__tests__/cupWinnerDeterminationService.test.ts",
        "test_name": "should identify multiple tied winners"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "cup_winner_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Check cup-specific test data setup in setupCupStandingsTestData"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/cup/__tests__/cupWinnerDeterminationService.test.ts",
        "test_name": "should return existing winners if already determined (idempotency)"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "cup_winner_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Check cup-specific test data setup in setupCupStandingsTestData"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/cup/__tests__/cupWinnerDeterminationService.test.ts",
        "test_name": "should handle database error during winner recording"
      }
    },
    {
      "primary_root_cause": "Database_Seeding_Issues",
      "confidence": 1,
      "contributing_factors": [],
      "analysis_details": {
        "patterns_matched": [],
        "context_factors": [
          "integration_test_in_services",
          "cup_winner_service_test"
        ],
        "recommendations": [
          "Priority: Fix foreign key constraint violations in test data setup",
          "Implement proper dependency order in database seeding",
          "Check cup-specific test data setup in setupCupStandingsTestData"
        ],
        "confidence_level": "high"
      },
      "subcategory": "Foreign_Key_Violations",
      "test_info": {
        "component": "services",
        "type": "integration",
        "file": "/src/services/cup/__tests__/cupWinnerDeterminationService.test.ts",
        "test_name": "should handle all zero scores scenario (edge case)"
      }
    }
  ],
  "prioritized_fixes": [
    {
      "root_cause": "Database_Seeding_Issues",
      "affected_test_count": 20,
      "priority_score": 20,
      "components": [
        "api-routes",
        "db",
        "services"
      ],
      "recommended_actions": [
        "Fix foreign key constraint violations in tests/utils/db.ts",
        "Implement proper dependency order in database seeding functions",
        "Add referential integrity checks before test data creation",
        "Review and fix setupCupStandingsTestData and createTestProfiles functions"
      ]
    },
    {
      "root_cause": "Mock_Configuration_Issues",
      "affected_test_count": 1,
      "priority_score": 1,
      "components": [
        "services"
      ],
      "recommended_actions": [
        "Investigate error patterns specific to this root cause",
        "Review affected test implementations for common issues",
        "Consider adding specific test utilities for this failure type"
      ]
    },
    {
      "root_cause": "Unknown",
      "affected_test_count": 4,
      "priority_score": 0,
      "components": [
        "api-routes",
        "db",
        "services"
      ],
      "recommended_actions": [
        "Investigate error patterns specific to this root cause",
        "Review affected test implementations for common issues",
        "Consider adding specific test utilities for this failure type"
      ]
    }
  ],
  "component_analysis": {
    "api-routes": {
      "total_failures": 7,
      "root_causes": {
        "Database_Seeding_Issues": 6,
        "Unknown": 1
      },
      "confidence_levels": {
        "high": 6,
        "medium": 0,
        "low": 0,
        "very_low": 1
      }
    },
    "db": {
      "total_failures": 4,
      "root_causes": {
        "Database_Seeding_Issues": 2,
        "Unknown": 2
      },
      "confidence_levels": {
        "high": 2,
        "medium": 0,
        "low": 0,
        "very_low": 2
      }
    },
    "services": {
      "total_failures": 14,
      "root_causes": {
        "Database_Seeding_Issues": 12,
        "Mock_Configuration_Issues": 1,
        "Unknown": 1
      },
      "confidence_levels": {
        "high": 13,
        "medium": 0,
        "low": 0,
        "very_low": 1
      }
    }
  }
}